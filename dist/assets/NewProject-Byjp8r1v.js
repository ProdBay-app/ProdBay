import{c as o,u as x,r as c,j as e,F as h,D as g}from"./index-20u6XjU9.js";import{s as f}from"./supabase-DvtyvoWz.js";import{A as b}from"./automationService-skCHK-3V.js";import{S as j}from"./send-BrhAhsbE.js";/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],_=o("calendar",y);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],v=o("map-pin",N),S=()=>{const d=x(),[r,m]=c.useState({project_name:"",client_name:"",brief_description:"",physical_parameters:"",financial_parameters:0,timeline_deadline:""}),[n,l]=c.useState(!1),t=i=>{const{name:a,value:s}=i.target;m(u=>({...u,[a]:a==="financial_parameters"?parseFloat(s)||0:s}))},p=async i=>{i.preventDefault(),l(!0);try{const{data:a,error:s}=await f.from("projects").insert(r).select().single();if(s||!a)throw new Error("Failed to create project");await b.createAssetsForProject(a.id,r.brief_description),d(`/client/dashboard?project=${a.id}`)}catch(a){console.error("Error creating project:",a),alert("Failed to create project. Please try again.")}finally{l(!1)}};return e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[e.jsx(h,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Create New Project"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Submit your project brief to get started"})]})]}),e.jsxs("form",{onSubmit:p,className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"project_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Name *"}),e.jsx("input",{type:"text",id:"project_name",name:"project_name",value:r.project_name,onChange:t,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter project name"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"client_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Client Name *"}),e.jsx("input",{type:"text",id:"client_name",name:"client_name",value:r.client_name,onChange:t,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter client name"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"brief_description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Brief & Description *"}),e.jsx("textarea",{id:"brief_description",name:"brief_description",value:r.brief_description,onChange:t,required:!0,rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe your event or project in detail. Include requirements for printing, staging, audio, lighting, catering, transport, or design services..."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"physical_parameters",className:"flex items-center space-x-2 text-sm font-medium text-gray-700 mb-2",children:[e.jsx(v,{className:"h-4 w-4"}),e.jsx("span",{children:"Physical Parameters"})]}),e.jsx("input",{type:"text",id:"physical_parameters",name:"physical_parameters",value:r.physical_parameters,onChange:t,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Location, size, capacity, etc."})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"financial_parameters",className:"flex items-center space-x-2 text-sm font-medium text-gray-700 mb-2",children:[e.jsx(g,{className:"h-4 w-4"}),e.jsx("span",{children:"Budget"})]}),e.jsx("input",{type:"number",id:"financial_parameters",name:"financial_parameters",value:r.financial_parameters||"",onChange:t,min:"0",step:"0.01",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"timeline_deadline",className:"flex items-center space-x-2 text-sm font-medium text-gray-700 mb-2",children:[e.jsx(_,{className:"h-4 w-4"}),e.jsx("span",{children:"Deadline"})]}),e.jsx("input",{type:"date",id:"timeline_deadline",name:"timeline_deadline",value:r.timeline_deadline,onChange:t,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsx("div",{className:"flex justify-end pt-6 border-t",children:e.jsxs("button",{type:"submit",disabled:n,className:"flex items-center space-x-2 px-8 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx(j,{className:"h-4 w-4"}),e.jsx("span",{children:n?"Creating Project...":"Create Project"})]})})]})]})})};export{S as default};
